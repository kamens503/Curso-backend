<!DOCTYPE html>
<html lang="en">
    <%- include('./includes/header'); %>
    <body>
        <%- include('./includes/nav'); %>
        <article class="flex justify-center">
            <table id="customers" class="table-auto inline-table bg-slate-200 w-1/3">
                <tr class="bg-slate-700 py-5 h-10">
                    <% const titles = ["Imagen","Nombre","Precio"].forEach(  title => {%>
                        <th class="text-white"><%- title %></th>
                    <%});%>
                </tr>
                <% Object.values(data).forEach(product => {%>
                    <tr class="border-2 border-b-slate-500" >
                        <td class="text-center w-24 h-24">
                            <img src="<%- product.thumbnail %>" alt="" class="h-full w-full object-cover inline-block">
                        </td>
                        <td>
                            <p><%- product.title %></p>
                        </td>
                        <td class="text-center w-24">
                            <p class="text-bold"><%- product.price %></p>
                        </td>
                    </tr>
                <%});%>
            </table>
            <form class="bg-slate-800 w-1/6 flex flex-col p-12 ml-10" id="product-form">
                <h2 class="font-bold text-white py-5">Cargar Producto nuevo</h2>
                <input class="inline-block mb-2" type="text" name="title" placeholder="Título">
                <br>
                <input class="inline-block mb-2" type="number" name="price" placeholder="Precio">
                <br>
                <input class="inline-block mb-2" type="url" name="thumbnail" placeholder="Url de la imagen">
                <br>
                <input class="inline-block mb-2 text-color-black bg-white px-10 py-1 mb-5" type="submit" value="Enviar">
                <br>
                <h5 class="text-center text-emerald-300 pb-5"><%- status %></h5>
            </form>
            <div id="chat-wrapper" class="w-1/3 ml-10 flex flex-col bg-slate-200 p-12">
                <h1 class="font-bold">Chat Websocket</h1>
                <div id="history" class="w-full h-80 bg-slate-100"></div>
                <span class="h-10"></span>
                <form id="form">
                    <label for="mail">Corre Electrónico</label><br>
                    <input type="mail" name="mail" id="mail" class="mb-2">
                    <br>
                    <label for="msg" >Mensaje</label><br>
                    <textarea name="msg" id="msg" class="w-full " rows="3"></textarea>
                    <br>
                    <input class="mt-5 inline-block my-2 text-white bg-slate-700 px-10 py-1 mb-5" type="submit" value="Enviar">
                </form>
            </div>
        </article>   
    </body>
    <script src="/socket.io/socket.io.js"></script>
    <script src="/index.js"></script>
</html>